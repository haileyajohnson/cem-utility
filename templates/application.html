<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>CEM wrapper application</title>    
    <!-- load Google fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">    
    <!-- Load JQuery from CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script>
      var map;
      function initMap() {}
    </script>
    
    <!-- Load local compiled OpenLayers -->
    <script src="{{ url_for('static', filename='extern/js/ol.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='extern/css/ol.css') }}" type="text/css">
    <!-- Load local compiled Earth Engine JavaScript client library. -->
    <script src="{{ url_for('static', filename='extern/js/ee_api_js.js') }}"></script>
    <!-- Load application -->
    {% for filename in distDir %}    
    <script src="{{ url_for('static', filename=filename) }}"></script>
    {% endfor %}
    <link rel="stylesheet" href="{{ url_for('static', filename='application.css') }}">

  </head>
  <!-- initialize app on page load -->
  <body onload="loadApp()">
        <!-- Top container -->
        <div class="header-container">
            <div class="header" style="z-index:4">
                <span>The Coastline Evolution Model utility</span>
            </div>

            <!-- Progress bar -->
            <div class="progress-bar">
            
                <div class="tile-row">
                    <div class="tile tile-red tab" id="grid-tab">
                        <div class="tile-inner">Grid</div>
                    </div>
                    <div class="tile tile-blue tab" id="wave-tab">
                        <div class="tile-inner">Wave Climate</div>
                    </div>
                    <div class="tile tile-green tab" id="control-tab">
                        <div class="tile-inner">Init. Conds.</div>
                    </div>
                    <div class="tile tile-yellow tab" id="run-tab">
                        <div class="tile-inner">Run</div>
                    </div>
                </div>
            
            </div>
        </div>

        <!-- application -->
        <div class="app-container">

            <div class="map-container">
                <div id="map" class="map"></div>
            </div>

            <div class="tab-view-container">
                        
                <div class="g-sign-in hidden">
                    <span class="label">Sign in with:</span>
                    <div class="button">
                        <span class="icon"></span>
                        <span class="button-text">Google</span>
                    </div>
                </div>

                <div class="grid-tab tab-view">
                    <div class="grid-content content-pane">

                        <div class="section">
                            <div class="section-title">Rotation:</div>
                            <input class="input" type="number" name="rotation" min="-360" max="360">
                        </div>
                        
                        <div class="section">
                            <form class="grid-selection-area">
                                <div class="section-title">Bounds:</div>
                                <table class="bounds-table">
                                <thead><th></th><th>Longitude</th><th> Latitude</th></thead>
                                <tr><td> Point 1</td>
                                    <td><input class="input coord" type="number" name="lon1" min="-180" max="180"></td>
                                    <td><input class="input coord" type="number" name="lat1" min="-90" max="90"></td>
                                </tr>
                                <tr><td>Point 2</td>
                                    <td><input class="input coord" type="number" name="lon2" min="-180" max="180"></td>
                                    <td><input class="input coord" type="number" name="lat2" min="-90" max="90"></td>
                                </tr>
                                </table>
                                <input type="button" class="button draw-button" value="Select on map">
                            </form>            
                        </div>

                        <div class="section">        
                            <div class="section-title">Num rows:</div>
                            <input class="input" type="number" name="numRows" min="0" max="1000">                     
                            <div class="section-title">Num cols:</div>
                            <input class="input" type="number" name="numCols" min="0" max="1000">
                        </div>
                        
                        <div class="section">  
                            <input type="button" class="button submit-button" value="Submit">
                            <input type="button" class="button clear-button" value="Clear">
                            <input type="button" class="button edit-button" value="Edit">
                        </div>
                    </div>
                </div>

                <div class="wave-tab tab-view">
                    <div class="wave-content content-pane">   
                        <div class="section">  
                            <div class="section-title">Assymetry (%)</div>
                            <input class="input" type="number" name="a-input" min="0" max = "100" value="50">
                            <div class="section-title">High angles (%)</div>
                            <input class="input" type="number" name="u-input" min="0" max = "100" value="50">
                        </div>  
                        <div class="section">  
                            <div class="section-title">Wave height (m)</div>
                            <input class="input" type="number" name="wave-height" min="0" max = "10" value="2">
                            <div class="section-title">Wave period (s)</div>
                            <input class="input" type="number" name="wave-period" min="5" max = "30" value="20">
                        </div>
                    </div>
                </div>

                <div class="control-tab tab-view">                    
                    <div class="control-content content-pane">                           
                        <div class="section">  
                            <div class="section-title">Shelf slope</div>
                            <input class="input" type="number" name="shelf-slope" min="0" max = "1" value="0.001">
                            <div class="section-title">Shoreface slope</div>
                            <input class="input" type="number" name="shoreface-slope" min="0" max = "1" value="0.01">
                        </div>
                        <div class="section">  
                            <div class="section-title">End date</div>
                            <input class="input" type="date" name="end-date" min="1999-04-15">
                            <br>
                            <div class="section-title">Timestep length</div>
                            <input class="input" type="number" name="timestep" value="1">
                            <br>
                            <div class="section-title">Save interval</div>
                            <input class="input" type="number" name="save-interval" value="365">
                        </div>
                    </div>
                </div>

                <div class="run-tab tab-view">
                    <div class="run-content content-pane">                        
                        <input type="button" class="button run-button" value="Run">
                    </div>
                </div>

            </div>

            <!-- modal window -->
            <div class="modal">
                <!-- modal content -->
                <div class="modal-content">
                <div class="header">Edit grid cell</div>
                <div class="edit-pane">
                    <div class="section">  
                        <div class="section-title">Fill percent:</div>
                        <input class="input" type="number" name="fill" min="0" max="100">
                    </div>
                    <div class="section">  
                        <div class="section-title">Alignment:</div>
                        <div class="alignment-buttons">                        
                            <input type="button" class="button top-button" id="1" value="Top"> <br>
                            <input type="button" class="button left-button" id="0" value="Left">
                            <input type="button" class="button right-button" id="2" value="Right"> <br>
                            <input type="button" class="button bottom-button" id="3" value="Bottom">
                        </div>
                    </div>
                    <div class="section">  
                        <div class="cell">
                        </div>
                    </div>
                </div>
                <div class="button-container">
                    <input type="button" class="button modal-ok-button" value="Ok">
                    <input type="button" class="button modal-cancel-button" value="Cancel">
                </div>
                </div>            
            </div>

            <input type="button" class="button save-button" onclick="onSave()" value="Save config">
            <input type="button" class="button load-button" onclick="onLoad()" value="Load config">
            <input id="file-input" type="file" name="name" style="display: none;" accept=".json" onchange="loadConfig()"/>
        </div>

        <!-- footer -->
        <div class="footer"></div> 

  </body>
</html>